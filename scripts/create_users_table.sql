CREATE TABLE USERS (
  ID_USER NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  ID_BARBERO NUMBER,
  USERNAME VARCHAR2(100) UNIQUE NOT NULL,
  PASSWORD_HASH VARCHAR2(200) NOT NULL,
  ROLE VARCHAR2(50) DEFAULT 'BARBERO',
  CREATED_AT DATE DEFAULT SYSDATE,
  CONSTRAINT FK_USERS_BARBERO FOREIGN KEY (ID_BARBERO) REFERENCES BARBERO(ID_BARBERO)
);
CREATE UNIQUE INDEX UX_USERS_USERNAME ON USERS(USERNAME);
CREATE UNIQUE INDEX UX_USERS_BARBERO ON USERS(ID_BARBERO);
COMMIT;
